# Managed by install_server.sh; edit server/mediamtx/mediamtx.yml and rerun the installer.
logLevel: info

api: yes
apiAddress: 0.0.0.0:9997
metrics: yes
metricsAddress: 0.0.0.0:9998
pprof: no
pprofAddress: 127.0.0.1:9999

rtsp: no
rtmp: no
hls: no

webrtc: yes
webrtcLocalUDPAddress: :8189
webrtcLocalTCPAddress: :8189
webrtcAdditionalHosts: ['rover.otter.land', '192.168.0.100']
webrtcICEServers2:
  # Google public STUN (world-wide, very commonly used)
  - url: stun:stun.l.google.com:19302
  - url: stun:stun1.l.google.com:19302
  - url: stun:stun2.l.google.com:19302
  - url: stun:stun3.l.google.com:19302
  - url: stun:stun4.l.google.com:19302

  # Cloudflare STUN (anycast, global PoPs)
  - url: stun:stun.cloudflare.com:3478

srt: yes
srtAddress: :9000

authMethod: http
authHTTPAddress: http://127.0.0.1:8080/mediamtx/auth
authHTTPExclude:
  - action: publish
  - action: api
  - action: metrics
  - action: pprof

paths:
  all:
    source: publisher
    sourceOnDemand: no
    # webrtcMaxPlayoutDelay: 0
    # alwaysRemuxWhep: no
